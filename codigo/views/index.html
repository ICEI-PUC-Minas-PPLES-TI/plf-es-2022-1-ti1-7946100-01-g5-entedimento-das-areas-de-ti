<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="film, filme, filme online, assistir filme, filme hd">
    <meta name="description" content="Veja filmes sem sair de casa, online e hd. Não é pirataria, juro." />
    <title>Cursos de TI</title>

    <!-- BOOTSTRAP 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>

    <!-- FONT AWESOME 5 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="./style.css">

    <!-- PAGE ICON -->
    <link rel="icon" href="../assets/img/logo-pequeno.png">
</head>
<body>
    <div class="home-background">
        <header class="header">
            <div class="container">
                <nav class="navbar navbar-expand-lg">
                    <div class="container-fluid">
                        <a class="navbar-brand me-2 me-sm-5" href="#">
                          <img src="../assets/img/logo-pequeno.png" id="home-button" height="100" alt="Portal de Cursos">
                        </a>
                        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar"
                          aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
                          <i class="fas fa-bars h1 mb-0"></i>
                        </button>
                        <div class="collapse navbar-collapse" id="navbar">
                            <ul class="navbar-nav me-auto mb-2 mb-lg-0 ">
                              <li>
                                  <a class="btn btn-nav btn-outline-light nav-btn" aria-current="page" href="./cursos/cursos.html">Cursos</a>
                              </li>
                              <li class="nav-item">
                                  <a class="btn btn-nav btn-outline-light nav-btn" href="./formulario/formulario.html">Formulário</a>
                              </li>
                              <li class="nav-item">
                                  <a class="btn btn-nav btn-outline-light nav-btn" href="./universidade/universidade.html">Universidades</a>
                              </li>
                            </ul>
                            <form>
                              <div class="input-group mb-2 mb-lg-0">
                                <input type="text" class="form-control" type="search" placeholder="Pesquisar" aria-label="Search"
                                  aria-describedby="basic-addon2">
                                <div class="input-group-append">
                                  <button class="btn btn-search" type="submit"><i class="fas fa-search"></i></button>
                                </div>
                              </div>
                            </form>
                            <i class="user-icon fa fa-user-circle fa-2x mb-2 mb-lg-0" aria-hidden="true"></i>
                            <i class="user-icon fas fa-sign-out-alt fa-2x mb-2 mb-lg-0" id="logout"></i>
                        </div>
                      </div>
                </nav>
            </div>
            
        </header>
        <section class="mt-2">
          <div class="container">
            <div id="carousel-cursos" class="carousel carousel-gallery slide" data-bs-ride="carousel">
              <div class="carousel-indicators" id="carousel-cursos-botao">
                <button type="button" data-bs-target="#carousel-releases" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#carousel-releases" data-bs-slide-to="1" aria-label="Slide 2" />
              </div>
              <div class="carousel-inner" id="carousel-cursos-conteudo">
                <div class="carousel-item active">
                  <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-5 col-lg-6 col-xl-6">
                      <iframe width="100%" height="350px" src="https://www.youtube.com/embed/w8_sP9UVeww" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-7 col-lg-6 col-xl-6 pl-2" style="color:black">
                      <h2>title</h2>
                      <h5 class="mt-1" style="text-align: justify;">
                        Lorem, ipsum dolor sit amet consectetur adipisicing elit. Molestias accusantium ullam dolorum cum nemo vero! Ut, non animi? Vero rem vel id obcaecati modi nulla veniam cum rerum molestiae ad.
                      </h5>
                    </div>
                  </div>
                </div>


                <div class="carousel-item" >
                  <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-5 col-lg-6 col-xl-6">
                      <iframe width="100%" height="350px" src="https://www.youtube.com/embed/w8_sP9UVeww" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-7 col-lg-6 col-xl-6 pl-2" style="color:black">
                      <h2>title</h2>
                      <h5 class="mt-1" style="text-align: justify;">
                        AAAAAAAAA Lorem, ipsum dolor sit amet consectetur adipisicing elit. Molestias accusantium ullam dolorum cum nemo vero! Ut, non animi? Vero rem vel id obcaecati modi nulla veniam cum rerum molestiae ad.
                      </h5>
                    </div>
                  </div>
                </div>
                
              </div>
            </div>
        </div>
      </section>
      <section style="margin-top: 40px;">
        <h1 style="margin-left: 10px;">Manchetes</h1>
        <div id="manchetes" style="display:block; padding: 30px;">
          <div class="card" style="display:inline-block; height: 250px; width: 500px;">
            <div class="row">
              <div class="col-5" style="display: flex; height: 250px; align-items: center; margin-left: 10px;">
                <img src="../assets/img/logo-pequeno.png" id="home-button" width="100%" alt="Portal de Cursos" style="border-radius: 10%;">
              </div>
              <div class="col-6" style="margin-left: 15px;">
                <h3 class="mt-2">Teste</h3>
                <p class="mt-1">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quia assumenda quibusdam, commodi voluptatem maiores debitis?</p>
              </div>
            </div>
          </div>
        </div>
      </section>

    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script src="http://jqueryvalidation.org/files/dist/jquery.validate.js"></script>
    <script src="db_seeder.js"></script>
    <script src="main.js"></script>
</body>

<script>
    var cursos = [];
    var manchetes = [];
  $(document).ready( function () { 
    carregaDados();
    carregaCarrousel();
    carregaManchetes();
  });

  function carregaDados(){
    cursos = JSON.parse(localStorage.getItem('db_cursos'));
    manchetes = JSON.parse(localStorage.getItem('db_manchetes'));
  }

  function carregaCarrousel(){
    
    let primeiro = true;
    let htmlConteudo = '';
    let htmlBotao = '';
    cursos.map((x, index) => {
      if(primeiro){
        htmlBotao += '<button type="button" data-bs-target="#carousel-releases" data-bs-slide-to="'+index+'" class="active" aria-current="true" aria-label="Slide '+x.id+'"></button>';
        htmlConteudo+='<div class="carousel-item active">'
        primeiro = false;
      } else {
        htmlBotao += '<button type="button" data-bs-target="#carousel-releases" data-bs-slide-to="'+index+'" aria-label="Slide '+x.id+'"></button>';
        htmlConteudo+='<div class="carousel-item">'
      }
      htmlConteudo+='<div class="row">'
      htmlConteudo+='<div class="col-xs-12 col-sm-12 col-md-5 col-lg-6 col-xl-6">'
      htmlConteudo+='<iframe width="100%" height="350px" src="'+x.video_apresentacao+'" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'
      htmlConteudo+='</div>'
      htmlConteudo+='<div class="col-xs-12 col-sm-12 col-md-7 col-lg-6 col-xl-6 pl-2" style="color:black">'
      htmlConteudo+='<h2>'+x.nome+'</h2>'
      htmlConteudo+='<h5 class="mt-1" style="text-align: justify;">'
      htmlConteudo+=x.descricao
      htmlConteudo+='</h5>'
      htmlConteudo+='</div>'
      htmlConteudo+='</div>'
      htmlConteudo+='</div>'
      

      
    });
    $('#carousel-cursos-conteudo').html(htmlConteudo);
    $('#carousel-cursos-botao').html(htmlBotao);
  }

  function carregaManchetes(){
    let htmlConteudo = '';
    manchetes.map((x, index) => {
      let descricao = x.paragrafo1? (x.paragrafo1.length > 120 ? (x.paragrafo1.substring(0, 120) + '...') : x.paragrafo1) : ''
      htmlConteudo +='<div class="card" style="display:inline-block; height: 250px; width: 500px; cursor: pointer;" onclick="exibirManchete('+x.id+')">'
      htmlConteudo +='<div class="row">'
      htmlConteudo +='<div class="col-5" style="display: flex; height: 250px; align-items: center; margin-left: 10px;">'
      htmlConteudo +='<img src="'+x.img1+'" width="100%" alt="Portal de Cursos" style="border-radius: 10%;">'
      htmlConteudo +='</div>'
      htmlConteudo +='<div class="col-6" style="margin-left: 15px;">'
      htmlConteudo +='<h5 class="mt-2">'+x.titulo+'</h3>'
      htmlConteudo +='<p class="mt-1">'+descricao+'</p>'
      htmlConteudo +='</div>'
      htmlConteudo +='</div>'
      htmlConteudo +='</div>'
    });
    $('#manchetes').html(htmlConteudo)
  }

  function exibirManchete(id){
    window.location.href = getUrl()+'codigo/views/manchete/manchete.html?id='+id;
  }
</script>
</html>